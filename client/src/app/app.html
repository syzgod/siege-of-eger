<main class="min-h-screen p-6 flex flex-col items-center" role="main">
  <header class="text-center mb-8">
    <h1 class="text-4xl font-bold text-blood mb-1 uppercase tracking-widest">Siege of Eger 1552</h1>
    <p class="italic text-wood">"Eger csillagai — Defending the Fortress"</p>
  </header>

  @if (gameData.isLoading()) {
    <aside class="flex flex-col items-center gap-4 mt-12" aria-live="polite">
      <p-progressSpinner ariaLabel="Loading game data" />
      <p class="text-wood italic text-lg">Waking up the Garrison...</p>
    </aside>
  } @else if (gameData.error()) {
    <aside class="bg-blood/20 border border-blood p-4 text-center" role="alert">
      <p class="font-bold text-blood">Messenger failed to arrive!</p>
      <p class="text-sm italic">{{ gameData.error() }}</p>
    </aside>
  } @else {
    <div class="w-full max-w-5xl flex flex-col gap-4">
      <!-- Status overview -->
      <app-status-bar />

      <!-- Inventory — tabbed to avoid clutter -->
      <app-inventory-tabs />

      <!-- Commander actions -->
      <app-commander-orders
        (advanceDay)="onAdvanceDay()"
        (build)="onBuild($event)"
        (craft)="onCraft($event)"
        (train)="onTrain($event)"
        (repair)="onRepair($event)"
      />
    </div>
  }
</main>
